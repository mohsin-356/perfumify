(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5687],{48349:function(e,t,s){Promise.resolve().then(s.bind(s,98554))},99376:function(e,t,s){"use strict";var n=s(35475);s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})},98554:function(e,t,s){"use strict";s.d(t,{default:function(){return d}});var n=s(57437),a=s(99376),i=s(2265);function d(e){let{review:t,showApprove:s,showReject:d,showDraft:l,showDelete:r}=e,o=(0,a.useRouter)(),[c,u]=(0,i.useTransition)();async function x(e,s){return(await fetch("/api/reviews/".concat(t._id),{method:e,headers:{"Content-Type":"application/json"},body:s?JSON.stringify(s):void 0})).ok}function m(e){u(async()=>{await x("PUT",{action:e})&&o.refresh()})}let p=(null==t?void 0:t.createdAt)?new Date(t.createdAt).toLocaleString():"";return(0,n.jsxs)("div",{className:"p-4 bg-white border rounded-lg flex flex-col gap-2",children:[(0,n.jsx)("div",{className:"flex justify-between items-start gap-3",children:(0,n.jsxs)("div",{className:"min-w-0",children:[(0,n.jsx)("div",{className:"text-sm text-gray-500",children:p}),(0,n.jsxs)("div",{className:"font-medium text-gray-900 break-words",children:[(null==t?void 0:t.name)||(null==t?void 0:t.userName)||"Anonymous",(null==t?void 0:t.email)?(0,n.jsxs)("span",{className:"text-gray-500",children:[" • ",t.email]}):null]}),(0,n.jsx)("div",{className:"text-yellow-600 text-sm",children:"number"==typeof(null==t?void 0:t.rating)?"★".repeat(t.rating):null}),(0,n.jsx)("div",{className:"text-gray-800 text-sm whitespace-pre-wrap break-words",children:(null==t?void 0:t.comment)||(null==t?void 0:t.text)}),(0,n.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Status: ",(null==t?void 0:t.status)||((null==t?void 0:t.approved)?"approved":"pending")]})]})}),(0,n.jsxs)("div",{className:"flex gap-2 pt-2",children:[s&&(0,n.jsx)("button",{onClick:()=>m("approve"),disabled:c,className:"px-3 py-1.5 text-xs rounded-md bg-green-600 text-white disabled:opacity-60",children:"Approve"}),d&&(0,n.jsx)("button",{onClick:()=>m("reject"),disabled:c,className:"px-3 py-1.5 text-xs rounded-md bg-amber-600 text-white disabled:opacity-60",children:"Reject"}),l&&(0,n.jsx)("button",{onClick:()=>m("draft"),disabled:c,className:"px-3 py-1.5 text-xs rounded-md bg-gray-700 text-white disabled:opacity-60",children:"Draft"}),r&&(0,n.jsx)("button",{onClick:function(){u(async()=>{await x("DELETE")&&o.refresh()})},disabled:c,className:"ml-auto px-3 py-1.5 text-xs rounded-md bg-red-600 text-white disabled:opacity-60",children:"Delete"})]})]})}}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=48349)}),_N_E=e.O()}]);