(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5920],{21156:function(e,t,r){Promise.resolve().then(r.bind(r,25399))},25399:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var s=r(57437),i=r(36760),n=r.n(i),a=r(2265),o=r(72716);let l=a.forwardRef((e,t)=>{let{className:r="block",labelKey:i,name:a,errorKey:l,placeholderKey:d,variant:c="normal",shadow:u=!1,type:m="text",inputClassName:x,...h}=e,p=n()("py-2 px-4 md:px-5 w-full appearance-none transition duration-150 ease-in-out border text-input text-xs lg:text-sm font-body rounded-md placeholder-body min-h-12 transition duration-200 ease-in-out",{"bg-gray-100 border-gray-300 focus:shadow focus:bg-white focus:border-primary":"normal"===c,"bg-white border-gray-300 focus:outline-none focus:border-heading h-11 md:h-12":"solid"===c,"border-gray-300 focus:border-primary":"outline"===c},{"focus:shadow":u},x),{t:f}=(0,o.$G)();return(0,s.jsxs)("div",{className:r,children:[i&&(0,s.jsx)("label",{htmlFor:a,className:"block text-gray-600 font-semibold text-sm leading-none mb-3 cursor-pointer",children:f(i)}),(0,s.jsx)("input",{id:a,name:a,type:m,ref:t,placeholder:f(d),className:p,autoComplete:"off",spellCheck:"false","aria-invalid":l?"true":"false",...h}),l&&(0,s.jsx)("p",{className:"my-2 text-xs text-red-500",children:f(l)})]})}),d=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e,children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),c=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}),u=a.forwardRef((e,t)=>{let{className:r="block",inputClassName:i,labelKey:l,name:u,errorKey:m,shadow:x=!1,...h}=e,[p,f]=(0,a.useState)(!1),A=n()("py-2 px-4 md:px-5 w-full appearance-none transition duration-150 ease-in-out border border-gray-500 text-input text-xs lg:text-sm font-body rounded-md placeholder-gray-600  transition duration-200 ease-in-out bg-white border border-gray-100 focus:outline-none focus:border-heading h-11 md:h-12",i),{t:y}=(0,o.$G)();return(0,s.jsxs)("div",{className:r,children:[l&&(0,s.jsx)("label",{htmlFor:u,className:"block text-gray-600 font-semibold text-sm leading-none mb-3 cursor-pointer",children:y(l)}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:u,name:u,type:p?"text":"password",ref:t,className:A,autoComplete:"off",autoCapitalize:"off",spellCheck:"false",...h}),(0,s.jsx)("label",{htmlFor:u,className:"absolute end-4 top-5 -mt-2 text-gray-500 cursor-pointer",onClick:()=>f(e=>!e),children:p?(0,s.jsx)(c,{className:"w-6 h-6"}):(0,s.jsx)(d,{className:"w-6 h-6"})})]}),m&&(0,s.jsx)("p",{className:"my-2 text-xs text-red-500",children:y(m)})]})}),m=(0,a.forwardRef)((e,t)=>{let{className:r,variant:i="flat",children:a,active:o,loading:l=!1,disabled:d=!1,...c}=e,u=n()("text-[13px] md:text-sm leading-4 inline-flex items-center cursor-pointer transition ease-in-out duration-300 font-semibold font-body text-center justify-center border-0 border-transparent rounded-md placeholder-white focus-visible:outline-none focus:outline-none",{"bg-heading text-white px-5 md:px-6 lg:px-8 py-4 md:py-3.5 lg:py-4 hover:text-white hover:bg-gray-600 hover:shadow-cart":"flat"===i,"h-11 md:h-12 px-5 bg-heading text-white py-2 transform-none normal-case hover:text-white hover:bg-gray-600 hover:shadow-cart":"slim"===i,"cursor-not-allowed":l,"cursor-not-allowed hover:cursor-not-allowed":d},r);return(0,s.jsxs)("button",{"aria-pressed":o,"data-variant":i,ref:t,className:u,disabled:d,...c,children:[a,l&&(0,s.jsxs)("svg",{className:"animate-spin -me-1 ms-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]})});var x=r(29501),h=r(59914),p=r(8541),f=r.n(p),A=r(86484);async function y(e){return{token:"".concat(e.email,".").concat(e.remember_me).split("").reverse().join("")}}let b=()=>{let{authorize:e,closeModal:t}=(0,h.l8)();return(0,A.useMutation)(e=>y(e),{onSuccess:r=>{f().set("auth_token",r.token),e(),t()},onError:()=>{}})};var E=r(33145),g=r(27648),w=e=>{let{href:t,children:r,...i}=e;return(0,s.jsx)(g.default,{href:t,...i,children:r})},v={src:"/_next/static/media/logo.41b41793.png",height:724,width:1021,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAFVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAASAQCkAAAAB3RSTlMCNShHH3hnQnSKZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAChJREFUeJw1iUEKACAQhEZn6/9PjoK8iJhQ89irz7+Dg3RSQZkI3HUABuYAQYWx4yAAAAAASUVORK5CYII=",blurWidth:8,blurHeight:6},_=e=>{let{className:t,...r}=e;return(0,s.jsx)(w,{href:"/",className:n()("inline-flex focus:outline-none",t),...r,children:(0,s.jsx)(E.default,{src:v,alt:"Perfumify",height:80,width:120,loading:"eager",className:"h-8 w-auto object-contain sm:h-9 md:h-10 lg:h-11 xl:h-12",sizes:"(max-width: 640px) 96px, (max-width: 768px) 112px, (max-width: 1024px) 128px, 144px",priority:!0})})},N=r(69378),S=()=>{var e,t;let{t:r}=(0,o.$G)(),{setModalView:i,openModal:n,closeModal:a}=(0,h.l8)(),{mutate:d,isLoading:c}=b(),{register:p,handleSubmit:f,formState:{errors:A}}=(0,x.cI)();function y(){d({email:"demo@demo.com",password:"demo",remember_me:!0})}return(0,s.jsxs)("div",{className:"overflow-hidden bg-white mx-auto rounded-lg w-full sm:w-96 md:w-450px border border-gray-300 py-5 px-5 sm:px-8",children:[(0,s.jsxs)("div",{className:"text-center mb-6 pt-2.5",children:[(0,s.jsx)("div",{onClick:a,children:(0,s.jsx)(_,{})}),(0,s.jsx)("p",{className:"text-sm md:text-base text-body mt-2 mb-8 sm:mb-10",children:r("common:login-helper")})]}),(0,s.jsx)("form",{onSubmit:f(function(e){let{email:t,password:r,remember_me:s}=e;d({email:t,password:r,remember_me:s})}),className:"flex flex-col justify-center",noValidate:!0,children:(0,s.jsxs)("div",{className:"flex flex-col space-y-3.5",children:[(0,s.jsx)(l,{labelKey:"forms:label-email",type:"email",variant:"solid",...p("email",{required:"".concat(r("forms:email-required")),pattern:{value:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:r("forms:email-error")}}),errorKey:null===(e=A.email)||void 0===e?void 0:e.message}),(0,s.jsx)(u,{labelKey:"forms:label-password",errorKey:null===(t=A.password)||void 0===t?void 0:t.message,...p("password",{required:"".concat(r("forms:password-required"))})}),(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsxs)("div",{className:"flex items-center flex-shrink-0",children:[(0,s.jsxs)("label",{className:"switch relative inline-block w-10 cursor-pointer",children:[(0,s.jsx)("input",{id:"remember",type:"checkbox",className:"opacity-0 w-0 h-0",...p("remember_me")}),(0,s.jsx)("span",{className:"bg-gray-500 absolute inset-0 transition-all duration-300 ease-in slider round"})]}),(0,s.jsx)("label",{htmlFor:"remember",className:"flex-shrink-0 text-sm text-heading ps-3 cursor-pointer",children:r("forms:label-remember-me")})]}),(0,s.jsx)("div",{className:"flex ms-auto",children:(0,s.jsx)("button",{type:"button",onClick:function(){return i("FORGET_PASSWORD"),n()},className:"text-end text-sm text-heading ps-3 underline hover:no-underline focus:outline-none",children:r("common:text-forgot-password")})})]}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(m,{type:"submit",loading:c,disabled:c,className:"h-11 md:h-12 w-full mt-1.5",children:r("common:text-login")})})]})}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center relative text-sm text-heading mt-6 mb-3.5",children:[(0,s.jsx)("hr",{className:"w-full border-gray-300"}),(0,s.jsx)("span",{className:"absolute -top-2.5 px-2 bg-white",children:r("common:text-or")})]}),(0,s.jsxs)(m,{loading:c,disabled:c,className:"h-11 md:h-12 w-full mt-2.5 bg-facebook hover:bg-facebookHover",onClick:y,children:[(0,s.jsx)(N.AgZ,{className:"text-sm sm:text-base me-1.5"}),r("common:text-login-with-facebook")]}),(0,s.jsxs)(m,{loading:c,disabled:c,className:"h-11 md:h-12 w-full mt-2.5 bg-google hover:bg-googleHover",onClick:y,children:[(0,s.jsx)(N.v74,{className:"text-sm sm:text-base me-1.5"}),r("common:text-login-with-google")]}),(0,s.jsxs)("div",{className:"text-sm sm:text-base text-body text-center mt-5 mb-1",children:[r("common:text-no-account")," ",(0,s.jsx)("button",{type:"button",className:"text-sm sm:text-base text-heading underline font-bold hover:no-underline focus:outline-none",onClick:function(){return i("SIGN_UP_VIEW"),n()},children:r("common:text-register")})]})]})};function j(){return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[calc(100vh-4rem)]",children:(0,s.jsx)(S,{})})}},64310:function(e,t,r){"use strict";r.d(t,{Zl:function(){return f},jD:function(){return p}});var s=r(57437),i=r(2265);function n(e,t){return e.find(e=>e.id===t)}let a=e=>e.map(e=>({...e,itemTotal:e.price*e.quantity})),o=e=>e.reduce((e,t)=>e+t.quantity*t.price,0),l=e=>e.reduce((e,t)=>e+t.quantity,0),d=e=>e.length,c={items:[],isEmpty:!0,totalItems:0,totalUniqueItems:0,total:0,meta:null};function u(e,t){var r,s,i,n,a,o,l,d;switch(t.type){case"ADD_ITEM_WITH_QUANTITY":{let r=function(e,t,r){if(r<=0)throw Error("cartQuantity can't be zero or less than zero");let s=e.findIndex(e=>e.id===t.id);if(s>-1){let t=[...e];return t[s].quantity+=r,t}return[...e,{...t,quantity:r}]}(e.items,t.item,t.quantity);return m(e,r)}case"REMOVE_ITEM_OR_QUANTITY":{let n=(r=e.items,s=t.id,i=t.quantity=1,r.reduce((e,t)=>{if(t.id===s){let r=t.quantity-i;return r>0?[...e,{...t,quantity:r}]:[...e]}return[...e,t]},[]));return m(e,n)}case"ADD_ITEM":{let r=[...e.items,t.item];return m(e,r)}case"REMOVE_ITEM":{let r=(n=e.items,a=t.id,n.filter(e=>e.id!==a));return m(e,r)}case"UPDATE_ITEM":{let r=(o=e.items,l=t.id,d=t.item,o.map(e=>e.id===l?{...e,...d}:e));return m(e,r)}case"RESET_CART":return c;default:return e}}let m=(e,t)=>{let r=d(t);return{...e,items:a(t),totalItems:l(t),totalUniqueItems:r,total:o(t),isEmpty:0===r}};var x=r(59441);let h=i.createContext(void 0);h.displayName="CartContext";let p=()=>{let e=i.useContext(h);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e};function f(e){let{children:t}=e,[r,a]=(0,x.Z)("royal-perfume-cart",JSON.stringify(c)),[o,l]=i.useReducer(u,JSON.parse(r));i.useEffect(()=>{a(JSON.stringify(o))},[o,a]);let d=(e,t)=>l({type:"ADD_ITEM_WITH_QUANTITY",item:e,quantity:t}),m=e=>l({type:"REMOVE_ITEM_OR_QUANTITY",id:e}),p=e=>l({type:"REMOVE_ITEM",id:e}),f=e=>!!n(o.items,e),A=e=>n(o.items,e),y=()=>l({type:"RESET_CART"}),b=i.useMemo(()=>({...o,addItemToCart:d,removeItemFromCart:m,clearItemFromCart:p,getItemFromCart:A,isInCart:f,resetCart:y}),[o]);return(0,s.jsx)(h.Provider,{value:b,children:t})}},59914:function(e,t,r){"use strict";r.d(t,{DA:function(){return x},l8:function(){return m}});var s=r(57437),i=r(2265),n=r(74106),a=r(64310),o=r(38896);let l={isAuthorized:!!(0,n.L)(),displaySidebar:!1,displayFilter:!1,displayModal:!1,displayCart:!1,displaySearch:!1,modalView:"LOGIN_VIEW",drawerView:null,modalData:null,toastText:""},d=i.createContext(l);function c(e,t){switch(t.type){case"SET_AUTHORIZED":return{...e,isAuthorized:!0};case"SET_UNAUTHORIZED":return{...e,isAuthorized:!1};case"OPEN_SIDEBAR":return{...e,displaySidebar:!0};case"CLOSE_SIDEBAR":return{...e,displaySidebar:!1,drawerView:null};case"OPEN_CART":return{...e,displayCart:!0};case"CLOSE_CART":return{...e,displayCart:!1};case"OPEN_SEARCH":return{...e,displaySearch:!0};case"CLOSE_SEARCH":return{...e,displaySearch:!1};case"OPEN_FILTER":return{...e,displayFilter:!0};case"CLOSE_FILTER":return{...e,displayFilter:!1};case"OPEN_MODAL":return{...e,displayModal:!0,displaySidebar:!1};case"CLOSE_MODAL":return{...e,displayModal:!1};case"SET_MODAL_VIEW":return{...e,modalView:t.view};case"SET_DRAWER_VIEW":return{...e,drawerView:t.view};case"SET_MODAL_DATA":return{...e,modalData:t.data};case"SET_TOAST_TEXT":return{...e,toastText:t.text};case"SET_USER_AVATAR":return{...e,userAvatar:t.value}}}function u(e){let{children:t}=e,[r,n]=i.useReducer(c,l),a=()=>n({type:"SET_AUTHORIZED"}),o=()=>n({type:"SET_UNAUTHORIZED"}),u=()=>n({type:"OPEN_SIDEBAR"}),m=()=>n({type:"CLOSE_SIDEBAR"}),x=()=>r.displaySidebar?n({type:"CLOSE_SIDEBAR"}):n({type:"OPEN_SIDEBAR"}),h=()=>r.displaySidebar&&n({type:"CLOSE_CART"}),p=()=>n({type:"OPEN_CART"}),f=()=>n({type:"CLOSE_CART"}),A=()=>r.displaySidebar?n({type:"CLOSE_CART"}):n({type:"OPEN_CART"}),y=()=>r.displaySidebar&&n({type:"CLOSE_CART"}),b=()=>n({type:"OPEN_FILTER"}),E=()=>n({type:"CLOSE_FILTER"}),g=()=>n({type:"OPEN_MODAL"}),w=()=>n({type:"CLOSE_MODAL"}),v=()=>n({type:"OPEN_SEARCH"}),_=()=>n({type:"CLOSE_SEARCH"}),N=e=>n({type:"SET_USER_AVATAR",value:e}),S=e=>n({type:"SET_MODAL_VIEW",view:e}),j=e=>n({type:"SET_DRAWER_VIEW",view:e}),C=e=>n({type:"SET_MODAL_DATA",data:e}),T=i.useMemo(()=>({...r,authorize:a,unauthorize:o,openSidebar:u,closeSidebar:m,toggleSidebar:x,closeSidebarIfPresent:h,openCart:p,closeCart:f,toggleCart:A,closeCartIfPresent:y,openFilter:b,closeFilter:E,openModal:g,closeModal:w,openSearch:v,closeSearch:_,setModalView:S,setDrawerView:j,setUserAvatar:N,setModalData:C}),[r]);return(0,s.jsx)(d.Provider,{value:T,children:t})}d.displayName="UIContext";let m=()=>{let e=i.useContext(d);if(void 0===e)throw Error("useUI must be used within a UIProvider");return e};function x(e){let{children:t}=e;return(0,s.jsx)(o.TN,{children:(0,s.jsx)(a.Zl,{children:(0,s.jsx)(u,{children:t})})})}},38896:function(e,t,r){"use strict";r.d(t,{TN:function(){return d},Ei:function(){return l}});var s=r(57437),i=r(2265),n=r(59441);let a={items:[],isEmpty:!0,totalUniqueItems:0},o=i.createContext(void 0);o.displayName="WishlistContext";let l=()=>{let e=i.useContext(o);if(void 0===e)throw Error("useWishlist must be used within a WishlistProvider");return e};function d(e){let{children:t}=e,[r,l]=(0,n.Z)("royal-perfume-wishlist",JSON.stringify(a)),[d,u]=i.useState(JSON.parse(r));i.useEffect(()=>{l(JSON.stringify(d))},[d,l]);let m=e=>{u(t=>{var r;return c((r=t.items).find(t=>t.id===e.id)?r:[...r,e])})},x=e=>{u(t=>c(t.items.filter(t=>t.id!==e)))},h=e=>!!d.items.find(t=>t.id===e),p=i.useMemo(()=>({...d,addItemToWishlist:m,removeItemFromWishlist:x,isInWishlist:h}),[d]);return(0,s.jsx)(o.Provider,{value:p,children:t})}function c(e){return{items:e,isEmpty:0===e.length,totalUniqueItems:e.length}}},74106:function(e,t,r){"use strict";r.d(t,{L:function(){return n}});var s=r(8541),i=r.n(s);let n=()=>i().get("auth_token")}},function(e){e.O(0,[1724,2972,5878,3587,2820,905,2971,2117,1744],function(){return e(e.s=21156)}),_N_E=e.O()}]);