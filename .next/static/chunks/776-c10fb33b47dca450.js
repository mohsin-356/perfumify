(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[776],{18346:function(e,t,r){Promise.resolve().then(r.bind(r,78592))},33145:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var n=r(48461),s=r.n(n)},99376:function(e,t,r){"use strict";var n=r(35475);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},48461:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getImageProps:function(){return o}});let n=r(47043),s=r(55346),a=r(65878),l=n._(r(5084));function o(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let i=a.Image},25523:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return n}});let n=r(47043)._(r(2265)).default.createContext(null)},78592:function(e,t,r){"use strict";r.d(t,{default:function(){return c}});var n=r(57437),s=r(2265),a=r(99376),l=r(29501),o=r(21469);function i(e){let{value:t,onChange:a}=e,l=(0,s.useRef)(null),o=(0,s.useRef)(null);(0,s.useEffect)(()=>{l.current&&void 0!==t&&l.current.innerHTML!==t&&(l.current.innerHTML=t||"")},[t]),(0,s.useEffect)(()=>{try{document.execCommand("styleWithCSS",!1,"true")}catch(e){}try{document.execCommand("defaultParagraphSeparator",!1,"p")}catch(e){}},[]),(0,s.useEffect)(()=>{let e=()=>{let e=window.getSelection();if(!e||0===e.rangeCount)return;let t=e.getRangeAt(0),r=t.commonAncestorContainer,n=(null==r?void 0:r.nodeType)===1?r:null==r?void 0:r.parentElement;l.current&&n&&l.current.contains(n)&&(o.current=t)};return document.addEventListener("selectionchange",e),()=>document.removeEventListener("selectionchange",e)},[]);let i=()=>{let e=window.getSelection();if(e&&o.current){var t;null===(t=l.current)||void 0===t||t.focus(),e.removeAllRanges(),e.addRange(o.current)}},d=(e,t)=>{if(!l.current)return;i();let r=l.current.innerHTML,n=!1;try{n=document.execCommand(e,!1,t)}catch(e){}let s=l.current.innerHTML;n||r!==s||x(e,t),a(l.current.innerHTML)},c=(e,t)=>{e.preventDefault();let r=window.getSelection();if(r&&r.rangeCount>0){let e=r.getRangeAt(0),t=e.commonAncestorContainer,n=(null==t?void 0:t.nodeType)===1?t:null==t?void 0:t.parentElement;l.current&&n&&l.current.contains(n)&&(o.current=e)}t()},u=e=>{if(!l.current)return;i();let t=e.toUpperCase(),r=e.toLowerCase();try{document.execCommand("formatBlock",!1,t)}catch(e){}try{document.execCommand("formatBlock",!1,"<".concat(r,">"))}catch(e){}a(l.current.innerHTML)},p=()=>{let e=window.getSelection();if(!e||0===e.rangeCount)return o.current;let t=e.getRangeAt(0),r=t.commonAncestorContainer,n=(null==r?void 0:r.nodeType)===1?r:null==r?void 0:r.parentElement;return l.current&&n&&l.current.contains(n)?t:o.current},m=e=>{try{document.execCommand("insertHTML",!1,e)}catch(e){}},g=(e,t)=>{let r=p();if(!r)return;let n=r.cloneContents(),s=document.createElement("div");s.appendChild(n);let a=s.innerHTML||r.toString();m("".concat(e).concat(a||"").concat(t))},x=(e,t)=>{if(l.current)switch(e){case"underline":g('<span style="text-decoration: underline;">',"</span>");break;case"italic":g("<em>","</em>");break;case"bold":g("<strong>","</strong>");break;case"insertUnorderedList":g("<ul><li>","</li></ul>");break;case"insertOrderedList":g("<ol><li>","</li></ol>");break;case"justifyLeft":case"justifyCenter":case"justifyRight":case"justifyFull":g('<div style="text-align:'.concat({justifyLeft:"left",justifyCenter:"center",justifyRight:"right",justifyFull:"justify"}[e],';">'),"</div>");break;case"formatBlock":{let e=String(t||"p").replace(/[<>]/g,"");g("<".concat(e,">"),"</".concat(e,">"))}}},h=e=>{d({left:"justifyLeft",center:"justifyCenter",right:"justifyRight",full:"justifyFull"}[e])},f=e=>{l.current&&(i(),document.execCommand("hiliteColor",!1,e),document.execCommand("backColor",!1,e),a(l.current.innerHTML))},b=()=>{if(!l.current)return;i();let e=window.prompt("Enter URL","https://");if(e)try{let t=new URL(e,window.location.href);document.execCommand("createLink",!1,t.toString());let r=window.getSelection();if(r&&r.rangeCount>0){let e=r.getRangeAt(0).commonAncestorContainer,t=1===e.nodeType?e:e.parentElement;t&&t.querySelectorAll("a").forEach(e=>{e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer nofollow")})}a(l.current.innerHTML)}catch(e){}};function y(e){let t=new Set(["p","br","strong","b","em","i","u","ul","ol","li","h1","h2","h3","blockquote","a","span"]),r=new DOMParser().parseFromString(e,"text/html"),n=e=>{if(e.nodeType===Node.ELEMENT_NODE){let n=e.tagName.toLowerCase();if(!t.has(n)){var s;let t=r.createTextNode(e.textContent||"");null===(s=e.parentNode)||void 0===s||s.replaceChild(t,e);return}for(let t of Array.from(e.attributes)){let r=t.name.toLowerCase();if("a"===n&&"href"===r){let t=e.getAttribute("href")||"";/^(https?:|mailto:|tel:)/i.test(t)||e.removeAttribute("href");continue}if("span"===n&&"style"===r){let t=(e.getAttribute("style")||"").split(";").map(e=>e.trim()).filter(e=>/^(color|background-color)\s*:/i.test(e)).join("; ");t?e.setAttribute("style",t):e.removeAttribute("style");continue}e.removeAttribute(r)}}for(let t of Array.from(e.childNodes))n(t)};return Array.from(r.body.childNodes).forEach(n),r.body.innerHTML}let j=async e=>{if(!l.current)return;let t=e.clipboardData.getData("text/html"),n=e.clipboardData.getData("text/plain");if(!t&&!n)return;e.preventDefault();let s=n;if(t)try{var o;let e=await r.e(8848).then(r.bind(r,18848)).catch(()=>null),n=null!==(o=null==e?void 0:e.default)&&void 0!==o?o:e;s=(null==n?void 0:n.sanitize)?n.sanitize(t,{ALLOWED_TAGS:["p","br","strong","b","em","i","u","ul","ol","li","h1","h2","h3","blockquote","a","span"],ALLOWED_ATTR:{a:["href","target","rel"],span:["style"]},ADD_ATTR:["style"],FORBID_TAGS:["script","style"]}):y(t)}catch(e){s=y(t)}i(),document.execCommand("insertHTML",!1,s||n),a(l.current.innerHTML)};return(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded",onMouseDown:e=>c(e,()=>d("bold")),children:"B"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded italic",onMouseDown:e=>c(e,()=>d("italic")),children:"I"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded underline",onMouseDown:e=>c(e,()=>d("underline")),children:"U"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded",onMouseDown:e=>c(e,()=>d("insertUnorderedList")),children:"• List"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded",onMouseDown:e=>c(e,()=>d("insertOrderedList")),children:"1. List"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded",onMouseDown:e=>c(e,()=>u("H1")),children:"H1"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded",onMouseDown:e=>c(e,()=>u("H2")),children:"H2"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded",onMouseDown:e=>c(e,()=>u("BLOCKQUOTE")),children:"❝ Quote"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded",onMouseDown:e=>c(e,()=>b()),children:"Link"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded",onMouseDown:e=>c(e,()=>d("unlink")),children:"Unlink"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded",onMouseDown:e=>c(e,()=>h("left")),children:"⬅"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded",onMouseDown:e=>c(e,()=>h("center")),children:"⬌"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded",onMouseDown:e=>c(e,()=>h("right")),children:"➡"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded",onMouseDown:e=>c(e,()=>h("full")),children:"▤"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded",onMouseDown:e=>c(e,()=>d("undo")),children:"Undo"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded",onMouseDown:e=>c(e,()=>d("redo")),children:"Redo"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded",onMouseDown:e=>c(e,()=>d("removeFormat")),children:"Clear"}),(0,n.jsx)("button",{type:"button",className:"px-2 py-1 border rounded",onMouseDown:e=>c(e,()=>f("#fff59d")),children:"Highlight"})]}),(0,n.jsx)("div",{ref:l,contentEditable:!0,suppressContentEditableWarning:!0,dir:"ltr",spellCheck:!0,tabIndex:0,className:"min-h-[160px] w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none outline-none text-left whitespace-pre-wrap",onInput:e=>a(e.target.innerHTML),onPaste:j,onKeyDown:e=>{if(l.current&&(e.ctrlKey||e.metaKey)){let t=e.key.toLowerCase();"b"===t&&(e.preventDefault(),d("bold")),"i"===t&&(e.preventDefault(),d("italic")),"u"===t&&(e.preventDefault(),d("underline")),"y"===t&&(e.preventDefault(),d("redo"))}},onMouseUp:()=>{let e=window.getSelection();e&&e.rangeCount>0&&(o.current=e.getRangeAt(0))},onKeyUp:()=>{let e=window.getSelection();e&&e.rangeCount>0&&(o.current=e.getRangeAt(0))}})]})}var d=r(83626);function c(e){var t,r;let{initialData:c,brands:u=[],categories:p=[]}=e,m=(0,a.useRouter)(),[g,x]=(0,s.useState)(!1),[h,f]=(0,s.useState)((null==c?void 0:c.images)||[]),[b,y]=(0,s.useState)(!1),[j,v]=(0,s.useState)(0),{register:N,handleSubmit:w,formState:{errors:C},setValue:_,watch:S}=(0,l.cI)({defaultValues:{name:(null==c?void 0:c.name)||"",slug:(null==c?void 0:c.slug)||"",description:(null==c?void 0:c.description)||"",shipping_policy:(null==c?void 0:c.shipping_policy)||"",refund_policy:(null==c?void 0:c.refund_policy)||"",sale_price:(null==c?void 0:c.sale_price)||void 0,price:(null==c?void 0:c.price)||0,stock:(null==c?void 0:c.stock)||0,brand:(null==c?void 0:null===(t=c.brand)||void 0===t?void 0:t._id)||(null==c?void 0:c.brand)||"",category:(null==c?void 0:null===(r=c.category)||void 0===r?void 0:r._id)||(null==c?void 0:c.category)||"",categories:[],gender:(null==c?void 0:c.gender)||"unisex",sku:(null==c?void 0:c.sku)||"",weight:(null==c?void 0:c.weight)||"",bestSeller:(null==c?void 0:c.bestSeller)||!1,newArrival:(null==c?void 0:c.newArrival)||!1,featured:(null==c?void 0:c.featured)||!1}}),k=S("name");(0,s.useEffect)(()=>{k&&!c&&_("slug",k.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""))},[k,c,_]);let L=async e=>{let t=e.target.files;if(null==t?void 0:t.length){y(!0),v(0);try{let e=t.length,r=0;for(let n=0;n<t.length;n++){let s=t[n],a=new FormData;a.append("file",s);let l=await fetch("/api/upload",{method:"POST",body:a}),o=await l.json();if(!l.ok)throw console.error("Upload failed response:",o),Error((null==o?void 0:o.error)||"Image upload failed");(o.secure_url||o.url)&&(f(e=>[...e,{url:o.secure_url||o.url,public_id:o.public_id,width:o.width,height:o.height}]),r++,v(Math.round(r/e*100)))}}catch(e){console.error("Upload failed:",e),alert("Image upload failed. Please try again.")}finally{y(!1),v(0)}}},A=e=>{f(t=>t.filter((t,r)=>r!==e))},D=async e=>{if(0===h.length){alert("Please upload at least one product image");return}x(!0);try{var t,r,n;let s={name:e.name,slug:e.slug,description:e.description,shipping_policy:e.shipping_policy,refund_policy:e.refund_policy,sale_price:e.sale_price?parseFloat(e.sale_price):void 0,price:parseFloat(e.price),stock:parseInt(e.stock)||0,brand:e.brand||null,category:e.category||null,categories:Array.isArray(e.categories)?e.categories:[],gender:e.gender||"unisex",sku:e.sku||void 0,weight:e.weight?parseFloat(e.weight):void 0,bestSeller:null!==(t=e.bestSeller)&&void 0!==t&&t,newArrival:null!==(r=e.newArrival)&&void 0!==r&&r,featured:null!==(n=e.featured)&&void 0!==n&&n,images:h},a=c?"/api/products/".concat(c._id):"/api/products",l=await fetch(a,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),o=await l.json();if(!l.ok)throw Error(o.error||"Failed to save product");alert(c?"Product updated successfully!":"Product created successfully!"),m.push("/admin/products"),m.refresh()}catch(e){console.error("Save error:",e),alert(e.message||"Failed to save product. Please try again.")}finally{x(!1)}};return(0,n.jsxs)("form",{onSubmit:w(D),className:"space-y-8 bg-white p-8 rounded-xl shadow-sm border border-gray-100",children:[(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Basic Information"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("label",{className:"text-sm font-medium text-gray-700",children:["Product Name ",(0,n.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,n.jsx)("input",{...N("name",{required:"Name is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g. Chanel No. 5"}),C.name&&(0,n.jsx)("p",{className:"text-red-500 text-xs",children:C.name.message})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("label",{className:"text-sm font-medium text-gray-700",children:["Slug ",(0,n.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,n.jsx)("input",{...N("slug",{required:"Slug is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g. chanel-no-5"}),C.slug&&(0,n.jsx)("p",{className:"text-red-500 text-xs",children:C.slug.message})]}),(0,n.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),(0,n.jsx)(i,{value:S("description"),onChange:e=>_("description",e,{shouldDirty:!0})})]}),(0,n.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Shipping Policy"}),(0,n.jsx)(i,{value:S("shipping_policy"),onChange:e=>_("shipping_policy",e,{shouldDirty:!0})})]}),(0,n.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Refund Policy"}),(0,n.jsx)(i,{value:S("refund_policy"),onChange:e=>_("refund_policy",e,{shouldDirty:!0})})]})]})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Pricing & Inventory"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("label",{className:"text-sm font-medium text-gray-700",children:["Price (\xa3) ",(0,n.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,n.jsx)("input",{type:"number",step:"0.01",...N("price",{required:"Price is required",min:0}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),C.price&&(0,n.jsx)("p",{className:"text-red-500 text-xs",children:C.price.message})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Sale Price (\xa3)"}),(0,n.jsx)("input",{type:"number",step:"0.01",...N("sale_price"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"Leave empty if not on sale."})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Stock"}),(0,n.jsx)("input",{type:"number",...N("stock",{min:0}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"SKU"}),(0,n.jsx)("input",{...N("sku"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g. CH-001"})]})]})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Homepage Badges"}),(0,n.jsxs)("div",{className:"flex items-center gap-6",children:[(0,n.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,n.jsx)("input",{type:"checkbox",...N("bestSeller"),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),"Best Seller"]}),(0,n.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,n.jsx)("input",{type:"checkbox",...N("newArrival"),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),"New Arrival"]}),(0,n.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,n.jsx)("input",{type:"checkbox",...N("featured"),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),"Featured"]})]})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Classification"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Brand"}),(0,n.jsxs)("select",{...N("brand"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white",children:[(0,n.jsx)("option",{value:"",children:"Select Brand"}),u&&u.length>0?u.map(e=>(0,n.jsx)("option",{value:e._id,children:e.name},e._id)):(0,n.jsx)("option",{value:"",disabled:!0,children:"No brands available"})]}),u&&0===u.length&&(0,n.jsx)("p",{className:"text-amber-600 text-xs",children:"No brands found. Please create a brand first."})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Category"}),(0,n.jsxs)("select",{...N("category"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white",children:[(0,n.jsx)("option",{value:"",children:"Select Category"}),p&&p.length>0?p.map(e=>(0,n.jsx)("option",{value:e._id,children:e.name},e._id)):(0,n.jsx)("option",{value:"",disabled:!0,children:"No categories available"})]}),p&&0===p.length&&(0,n.jsx)("p",{className:"text-amber-600 text-xs",children:"No categories found. Please create a category first."})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Additional Categories"}),(0,n.jsx)("select",{multiple:!0,...N("categories"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white min-h-[120px]",children:p&&p.length>0?p.map(e=>(0,n.jsx)("option",{value:e._id,children:e.name},e._id)):(0,n.jsx)("option",{value:"",disabled:!0,children:"No categories available"})}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"Hold Ctrl/Cmd to select multiple."})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Gender"}),(0,n.jsxs)("select",{...N("gender"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white",children:[(0,n.jsx)("option",{value:"unisex",children:"Unisex"}),(0,n.jsx)("option",{value:"men",children:"Men"}),(0,n.jsx)("option",{value:"women",children:"Women"})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Weight (g)"}),(0,n.jsx)("input",{type:"number",step:"0.1",...N("weight"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g. 100"})]})]})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:["Product Images ",(0,n.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-4",children:[h.map((e,t)=>(0,n.jsxs)("div",{className:"relative h-32 w-32 rounded-lg overflow-hidden border-2 border-gray-200 group hover:border-indigo-400 transition-all",children:[(0,n.jsx)(d.Z,{publicId:e.public_id,alt:"Product ".concat(t+1),width:128,height:128,className:"object-cover h-full w-full"}),(0,n.jsx)("button",{type:"button",onClick:()=>A(t),className:"absolute top-2 right-2 bg-red-500 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-lg hover:bg-red-600",children:(0,n.jsx)(o.q5L,{className:"h-4 w-4"})}),(0,n.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity",children:["Image ",t+1]})]},t)),(0,n.jsxs)("label",{className:"h-32 w-32 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 transition-all",children:[b?(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)(o.dAq,{className:"h-8 w-8 text-indigo-600 animate-spin"}),(0,n.jsxs)("span",{className:"text-xs text-indigo-600 mt-2",children:[j,"%"]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Yjd,{className:"h-8 w-8 text-gray-400"}),(0,n.jsx)("span",{className:"text-xs text-gray-500 mt-2",children:"Upload"}),(0,n.jsx)("span",{className:"text-xs text-gray-400",children:"Multiple OK"})]}),(0,n.jsx)("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:L,disabled:b})]})]}),0===h.length&&(0,n.jsx)("p",{className:"text-amber-600 text-sm",children:"Please upload at least one product image"})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100",children:[(0,n.jsx)("button",{type:"button",onClick:()=>m.back(),className:"px-6 py-2.5 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors font-medium",children:"Cancel"}),(0,n.jsxs)("button",{type:"submit",disabled:g||b,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium flex items-center gap-2",children:[g&&(0,n.jsx)(o.dAq,{className:"animate-spin"}),g?"Saving...":c?"Update Product":"Create Product"]})]})]})}},83626:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(57437),s=r(33145);let a="dqzpqza20";function l(e,t){let{width:r,height:n,crop:s="fill",blur:l,quality:o="auto",format:i="auto"}=t;if(!a)return"";let d=[];s&&d.push("c_".concat(s)),r&&d.push("w_".concat(r)),n&&d.push("h_".concat(n)),o&&d.push("q_".concat(o)),i&&d.push("f_".concat(i)),l&&d.push("e_blur:".concat(l));let c=d.join(",");return"https://res.cloudinary.com/".concat(a,"/image/upload/").concat(c,"/").concat(e)}var o=e=>{let{publicId:t,alt:r,width:a,height:o,sizes:i="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 400px",className:d,crop:c="fill"}=e,u=l(t,{width:a,height:o,crop:c,quality:"auto",format:"auto"}),p=l(t,{width:20,height:20,crop:c,blur:200,quality:"auto",format:"auto"});return(0,n.jsx)(s.default,{src:u,alt:r,width:a,height:o,sizes:i,className:d,placeholder:"blur",blurDataURL:p,loading:"lazy"})}}}]);