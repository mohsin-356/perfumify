(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1941],{75943:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/order",function(){return r(72220)}])},72220:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return h},default:function(){return y}});var s=r(85893),a=r(70845),l=r(88991),d=r(49950),n=r(77820),o=r(66718),x=r(36348),i=r(67294);function c(e){let{trackingId:t,currentStatus:r,history:a}=e,l=Array.isArray(a)?[...a].sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()):[];return(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Order Tracking"}),t?(0,s.jsx)("span",{className:"text-xs font-mono px-2 py-1 rounded bg-gray-100 text-gray-700",children:t}):null]}),(0,s.jsxs)("div",{className:"space-y-4",children:[0===l.length?(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"No history yet."}):(0,s.jsx)("ol",{className:"relative border-s border-gray-200 ms-2",children:l.map((e,t)=>(0,s.jsxs)("li",{className:"mb-6 ms-4",children:[(0,s.jsx)("div",{className:"absolute w-3 h-3 bg-indigo-500 rounded-full mt-1.5 -start-1.5 border border-white"}),(0,s.jsx)("time",{className:"mb-1 text-xs font-normal leading-none text-gray-400",children:new Date(e.date).toLocaleString()}),(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.status})]},t))}),r?(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:["Current status: ",(0,s.jsx)("span",{className:"font-semibold",children:r})]}):null]})]})}var m=r(14940),b=r(11163),g=r(15703),p=r(33299);function u(){var e;let t=(0,b.useRouter)(),{id:r}=t.query||{},{t:a}=(0,p.$G)("common"),[l,d]=(0,i.useState)(""),n="string"==typeof r&&r.length>0,{data:u,isLoading:h}=(0,m.O)(n?r:""),{price:y}=(0,g.ZP)(u&&{amount:u.shipping_fee?u.total+u.shipping_fee:u.total,currencyCode:"GBP"});return n?h?(0,s.jsx)("p",{children:"Loading..."}):(0,s.jsxs)("div",{className:"xl:px-32 2xl:px-44 3xl:px-56 py-16 lg:py-20",children:[(0,s.jsxs)("div",{className:"border border-gray-300 bg-gray-50 px-4 lg:px-5 py-4 rounded-md flex items-center justify-start text-heading text-sm md:text-base mb-6 lg:mb-8",children:[(0,s.jsx)("span",{className:"w-10 h-10 me-3 lg:me-4 rounded-full bg-gray-300 flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(o.cfq,{className:"w-5 h-5 text-green-600"})}),a("text-order-received")]}),(0,s.jsxs)("ul",{className:"border border-gray-300 bg-gray-50 rounded-md flex flex-col md:flex-row mb-7 lg:mb-8 xl:mb-10",children:[(0,s.jsxs)("li",{className:"text-heading font-semibold text-base lg:text-lg border-b md:border-b-0 md:border-r border-dashed border-gray-300 px-4 lg:px-6 xl:px-8 py-4 md:py-5 lg:py-6 last:border-0",children:[(0,s.jsxs)("span",{className:"uppercase text-[11px] block text-body font-normal leading-5",children:[a("text-order-number"),":"]}),(null==u?void 0:u.trackingId)||(null==u?void 0:u.tracking_number)||(null==u?void 0:u._id)]}),(0,s.jsxs)("li",{className:"text-heading font-semibold text-base lg:text-lg border-b md:border-b-0 md:border-r border-dashed border-gray-300 px-4 lg:px-6 xl:px-8 py-4 md:py-5 lg:py-6 last:border-0",children:[(0,s.jsxs)("span",{className:"uppercase text-[11px] block text-body font-normal leading-5",children:[a("text-date"),":"]}),(null==u?void 0:u.createdAt)?new Date(u.createdAt).toLocaleDateString():""]}),(0,s.jsxs)("li",{className:"text-heading font-semibold text-base lg:text-lg border-b md:border-b-0 md:border-r border-dashed border-gray-300 px-4 lg:px-6 xl:px-8 py-4 md:py-5 lg:py-6 last:border-0",children:[(0,s.jsxs)("span",{className:"uppercase text-[11px] block text-body font-normal leading-5",children:[a("text-email"),":"]}),null==u?void 0:u.customer.email]}),(0,s.jsxs)("li",{className:"text-heading font-semibold text-base lg:text-lg border-b md:border-b-0 md:border-r border-dashed border-gray-300 px-4 lg:px-6 xl:px-8 py-4 md:py-5 lg:py-6 last:border-0",children:[(0,s.jsxs)("span",{className:"uppercase text-[11px] block text-body font-normal leading-5",children:[a("text-total"),":"]}),y]}),(0,s.jsxs)("li",{className:"text-heading font-semibold text-base lg:text-lg border-b md:border-b-0 md:border-r border-dashed border-gray-300 px-4 lg:px-6 xl:px-8 py-4 md:py-5 lg:py-6 last:border-0",children:[(0,s.jsxs)("span",{className:"uppercase text-[11px] block text-body font-normal leading-5",children:[a("text-payment-method"),":"]}),(null==u?void 0:u.payment_gateway)||(null==u?void 0:null===(e=u.paymentInfo)||void 0===e?void 0:e.method)]})]}),(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)(c,{trackingId:(null==u?void 0:u.trackingId)||(null==u?void 0:u.tracking_number)||(null==u?void 0:u._id),currentStatus:null==u?void 0:u.status,history:null==u?void 0:u.statusHistory})}),(0,s.jsx)("p",{className:"text-heading text-sm md:text-base mb-8",children:a("text-pay-cash")}),(0,s.jsx)(x.Z,{})]}):(0,s.jsxs)("div",{className:"py-12 max-w-xl mx-auto",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-4",children:a("text-order-tracking")}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:a("text-enter-tracking")||"Enter your Tracking ID to view order status."}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:l,onChange:e=>d(e.target.value),placeholder:"Tracking ID",className:"flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,s.jsx)("button",{onClick:()=>l&&t.push("/order?id=".concat(encodeURIComponent(l))),className:"px-4 py-2 bg-black text-white rounded-md text-sm hover:bg-gray-800",children:a("text-track")||"Track"})]})]})}var h=!0;function y(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Z,{pageHeader:"text-page-order"}),(0,s.jsxs)(a.Z,{children:[(0,s.jsx)(u,{}),(0,s.jsx)(d.Z,{})]})]})}y.Layout=l.Z}},function(e){e.O(0,[5445,260,1664,3074,9669,7536,8991,2976,2888,9774,179],function(){return e(e.s=75943)}),_N_E=e.O()}]);