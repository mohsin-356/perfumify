exports.id=9403,exports.ids=[9403],exports.modules={14348:(e,r,t)=>{Promise.resolve().then(t.bind(t,51063))},78330:(e,r,t)=>{Promise.resolve().then(t.bind(t,80391))},44597:(e,r,t)=>{"use strict";t.d(r,{default:()=>a.a});var s=t(91561),a=t.n(s)},34178:(e,r,t)=>{"use strict";var s=t(25289);t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},91561:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{default:function(){return o},getImageProps:function(){return l}});let s=t(20352),a=t(44401),n=t(15889),i=s._(t(99857));function l(e){let{props:r}=(0,a.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(r))void 0===t&&delete r[e];return{props:r}}let o=n.Image},51063:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var s=t(97247),a=t(28964),n=t(26529),i=t(29545),l=t(79906),o=t(34178),d=t(84180);let c=[{name:"Dashboard",href:"/admin/dashboard",icon:d.m6D},{name:"Products",href:"/admin/products",icon:d.Wpg},{name:"Categories",href:"/admin/categories",icon:d.aCJ},{name:"Brands",href:"/admin/brands",icon:d.E25},{name:"Orders",href:"/admin/orders",icon:d.x8h},{name:"Customers",href:"/admin/customers",icon:d.WY8},{name:"Leads",href:"/admin/leads",icon:d.zy7},{name:"Subscriptions",href:"/admin/subscriptions",icon:d.Imn},{name:"Reviews",href:"/admin/reviews",icon:d.nae},{name:"Chats",href:"/admin/chats",icon:d.IC0},{name:"Settings",href:"/admin/settings",icon:d.nbt}];function u(){let e=(0,o.usePathname)()??"";return(0,s.jsxs)("aside",{className:"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col fixed left-0 top-0 bottom-0 z-50",children:[s.jsx("div",{className:"h-16 flex items-center px-6 border-b border-gray-200",children:s.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Perfumify Admin"})}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:s.jsx("ul",{className:"space-y-1 px-3",children:c.map(r=>{let t=e===r.href||e.startsWith(`${r.href}/`);return s.jsx("li",{children:(0,s.jsxs)(l.default,{href:r.href,className:`flex items-center px-3 py-2.5 rounded-lg text-sm font-medium transition-colors ${t?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[s.jsx(r.icon,{className:`mr-3 h-5 w-5 ${t?"text-gray-900":"text-gray-400"}`}),r.name]})},r.name)})})}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:(0,s.jsxs)("button",{className:"flex items-center w-full px-3 py-2.5 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[s.jsx(d.xqh,{className:"mr-3 h-5 w-5 text-gray-400"}),"Logout"]})})]})}function m(){return(0,s.jsxs)("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6 sticky top-0 z-40 ml-64",children:[s.jsx("div",{className:"flex items-center w-96",children:(0,s.jsxs)("div",{className:"relative w-full",children:[s.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(d.jRj,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Search..."})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("button",{className:"p-2 text-gray-400 hover:text-gray-500 relative",children:[s.jsx(d.vWP,{className:"h-6 w-6"}),s.jsx("span",{className:"absolute top-1.5 right-1.5 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold",children:"A"}),s.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Admin User"})]})]})]})}function h({children:e}){return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 font-sans",children:[s.jsx(u,{}),s.jsx(m,{}),s.jsx("main",{className:"ml-64 p-8",children:e})]})}function x({children:e}){let r=(0,a.useRef)();return r.current||(r.current=new n.QueryClient({defaultOptions:{queries:{staleTime:3e5,cacheTime:6e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:1}}})),s.jsx(n.QueryClientProvider,{client:r.current,children:s.jsx(i.DA,{children:s.jsx(h,{children:e})})})}},80391:(e,r,t)=>{"use strict";t.d(r,{default:()=>d});var s=t(97247),a=t(28964),n=t(34178),i=t(2704),l=t(84180),o=t(86451);function d({initialData:e}){let r=(0,n.useRouter)(),[t,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(e?.image||null),[m,h]=(0,a.useState)(!1),{register:x,handleSubmit:f,formState:{errors:p}}=(0,i.cI)({defaultValues:e||{}}),g=async e=>{let r=e.target.files?.[0];if(!r)return;h(!0);let t=new FormData;t.append("file",r);try{let e=await fetch("/api/upload",{method:"POST",body:t}),r=await e.json();if(!e.ok)throw Error(r.error||"Image upload failed");(r.secure_url||r.url)&&u({url:r.secure_url||r.url,public_id:r.public_id})}catch(e){console.error("Upload failed",e),alert("Image upload failed")}finally{h(!1)}},b=async t=>{d(!0);try{let s={...t,image:c},a=e?`/api/brands/${e._id}`:"/api/brands";if(!(await fetch(a,{method:e?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw Error("Failed to save brand");r.push("/admin/brands"),r.refresh()}catch(e){console.error(e),alert("Failed to save brand")}finally{d(!1)}};return(0,s.jsxs)("form",{onSubmit:f(b),className:"space-y-8 bg-white p-8 rounded-xl shadow-sm border border-gray-100",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Brand Name"}),s.jsx("input",{...x("name",{required:"Name is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g. Gucci"}),p.name&&s.jsx("p",{className:"text-red-500 text-xs",children:p.name.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{...x("description"),rows:4,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Brand description..."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Logo"}),s.jsx("div",{className:"flex items-center gap-4",children:c?(0,s.jsxs)("div",{className:"relative h-24 w-24 rounded-lg overflow-hidden border border-gray-200 group",children:[s.jsx(o.Z,{publicId:c.public_id,alt:"Brand Logo",width:96,height:96,className:"object-cover h-full w-full"}),s.jsx("button",{type:"button",onClick:()=>u(null),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(l.q5L,{className:"h-3 w-3"})})]}):(0,s.jsxs)("label",{className:"h-24 w-24 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 transition-all",children:[m?s.jsx(l.dAq,{className:"h-6 w-6 text-indigo-600 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(l.Yjd,{className:"h-6 w-6 text-gray-400"}),s.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Upload"})]}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:g,disabled:m})]})})]})]}),(0,s.jsxs)("div",{className:"flex justify-end pt-6 border-t border-gray-100",children:[s.jsx("button",{type:"button",onClick:()=>r.back(),className:"mr-4 px-6 py-2.5 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors font-medium",children:"Cancel"}),(0,s.jsxs)("button",{type:"submit",disabled:t||m,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-colors font-medium flex items-center gap-2",children:[t&&s.jsx(l.dAq,{className:"animate-spin"}),t?"Saving...":e?"Update Brand":"Create Brand"]})]})]})}},86451:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var s=t(97247),a=t(44597);let n="dqzpqza20";function i(e,{width:r,height:t,crop:s="fill",blur:a,quality:i="auto",format:l="auto"}){if(!n)return"";let o=[];s&&o.push(`c_${s}`),r&&o.push(`w_${r}`),t&&o.push(`h_${t}`),i&&o.push(`q_${i}`),l&&o.push(`f_${l}`),a&&o.push(`e_blur:${a}`);let d=o.join(",");return`https://res.cloudinary.com/${n}/image/upload/${d}/${e}`}let l=({publicId:e,alt:r,width:t,height:n,sizes:l="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 400px",className:o,crop:d="fill"})=>{let c=i(e,{width:t,height:n,crop:d,quality:"auto",format:"auto"}),u=i(e,{width:20,height:20,crop:d,blur:200,quality:"auto",format:"auto"});return s.jsx(a.default,{src:c,alt:r,width:t,height:n,sizes:l,className:o,placeholder:"blur",blurDataURL:u,loading:"lazy"})}},59964:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(45347).createProxy)(String.raw`C:\Users\SMART TECH\Desktop\perfumeStore\src\app\admin\layout.tsx#default`)},62098:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(45347).createProxy)(String.raw`C:\Users\SMART TECH\Desktop\perfumeStore\src\components\admin\BrandForm.tsx#default`)}};