"use strict";exports.id=7080,exports.ids=[7080],exports.modules={56639:(e,t,s)=>{s.d(t,{Z:()=>o});var r=s(20997);let l=({color:e="currentColor",width:t="10px",height:s="2px"})=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:s,viewBox:"0 0 12 1.5",children:r.jsx("rect",{"data-name":"Rectangle 970",width:t,height:s,fill:e})}),a=({color:e="currentColor",width:t="10px",height:s="10px"})=>r.jsx("svg",{"data-name":"plus (2)",xmlns:"http://www.w3.org/2000/svg",width:t,height:s,viewBox:"0 0 12 12",children:r.jsx("g",{"data-name":"Group 5367",children:r.jsx("path",{"data-name":"Path 17138",d:"M6.749,5.251V0h-1.5V5.251H0v1.5H5.251V12h1.5V6.749H12v-1.5Z",fill:e})})});var i=s(59003),n=s.n(i);let o=({quantity:e,onDecrement:t,onIncrement:s,disableIncrement:i=!1,disableDecrement:o=!1,variant:c="default"})=>{let d="dark"!==c?"12px":"10px";return(0,r.jsxs)("div",{className:n()("group flex items-center justify-between rounded-md overflow-hidden flex-shrink-0",{"border h-11 md:h-12 border-gray-300":"default"===c,"h-8 md:h-9 shadow-navigation bg-heading":"dark"===c}),children:[r.jsx("button",{onClick:t,className:n()("flex items-center justify-center flex-shrink-0 h-full transition ease-in-out duration-300 focus:outline-none",{"w-10 md:w-12 text-heading border-e border-gray-300 hover:text-white hover:bg-heading":"default"===c,"w-8 md:w-9 text-white bg-heading hover:bg-gray-600 focus:outline-none":"dark"===c}),disabled:o,children:r.jsx(l,{width:d})}),r.jsx("span",{className:n()("font-semibold flex items-center justify-center h-full  transition-colors duration-250 ease-in-out cursor-default flex-shrink-0",{"text-base text-heading w-12  md:w-20 xl:w-24":"default"===c,"text-sm text-white w-8 md:w-10 ":"dark"===c}),children:e}),r.jsx("button",{onClick:s,className:n()("flex items-center justify-center h-full flex-shrink-0 transition ease-in-out duration-300 focus:outline-none",{"w-10 md:w-12 text-heading border-s border-gray-300 hover:text-white hover:bg-heading":"default"===c,"w-8 md:w-9 text-white bg-heading hover:bg-gray-600 focus:outline-none":"dark"===c}),disabled:i,children:r.jsx(a,{width:d,height:d})})]})}},83228:(e,t,s)=>{s.d(t,{P:()=>i});var r=s(20997),l=s(59003),a=s.n(l);let i=({className:e="mb-4",title:t,attributes:s,active:l,onClick:i})=>(0,r.jsxs)("div",{className:e,children:[r.jsx("h3",{className:"text-sm font-semibold text-heading mb-2 capitalize",children:t}),r.jsx("ul",{className:"colors flex flex-wrap gap-2",children:s?.map(({id:e,value:s,meta:n})=>r.jsx("li",{className:a()("cursor-pointer rounded border border-gray-300 px-4 py-2 flex justify-center items-center text-heading text-sm font-medium transition duration-200 ease-in-out hover:border-black",{"border-black bg-gray-50":s===l}),onClick:()=>i({[t]:s}),children:"color"===t?r.jsx("span",{className:"h-full w-full rounded block",style:{backgroundColor:n}}):s},`${s}-${e}`))})]})},77080:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var r=s(20997),l=s(16689),a=s(25675),i=s.n(a),n=s(11163),o=s(89699),c=s.n(o),d=s(61949),u=s(96890),g=s(51037),m=s(56639),x=s(41946),h=s(83228),p=s(71771),f=s(58189),b=s(4293),y=s(11377);function w(){let e;let{t}=(0,y.useTranslation)("common"),{modalData:{data:s},closeModal:a,openCart:o}=(0,u.l8)(),w=(0,n.useRouter)(),{addItemToCart:v}=(0,x.jD)(),[j,N]=(0,l.useState)(1),[C,k]=(0,l.useState)({}),[O,S]=(0,l.useState)(!1),[T,A]=(0,l.useState)(!1),{price:P,basePrice:E,discount:B}=(0,f.ZP)({amount:s.sale_price?s.sale_price:s.price,baseAmount:s.price,currencyCode:"GBP"}),F=(0,b.y)(s.variations),{slug:R,image:H,name:D,description:G}=s,I=(0,l.useMemo)(()=>String(G||"").replace(/<[^>]*>/g," ").replace(/&nbsp;/gi," ").replace(/&amp;/gi,"&").replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&quot;/gi,'"').replace(/&#39;/gi,"'").replace(/\s+/g," ").trim(),[G]),Z=(0,l.useMemo)(()=>I.length>420?I.slice(0,420)+"…":I,[I]),$=(0,l.useMemo)(()=>{if(!I)return{intro:"",items:[]};let e=I;[{title:"Brand",exp:/\bBrand:\s*/gi},{title:"Brand Category",exp:/\bBrand\s+Category:\s*/gi},{title:"Gender",exp:/\bGender:\s*/gi},{title:"Fragrance Notes – Top",exp:/\bFragrance\s+Notes\s*[-–]\s*Top:\s*/gi},{title:"Fragrance Notes – Heart",exp:/\bFragrance\s+Notes\s*[-–]\s*Heart:\s*/gi},{title:"Fragrance Notes – Base",exp:/\bFragrance\s+Notes\s*[-–]\s*Base:\s*/gi},{title:"Notes – Top",exp:/\bNotes\s*[-–]\s*Top:\s*/gi},{title:"Notes – Heart",exp:/\bNotes\s*[-–]\s*Heart:\s*/gi},{title:"Notes – Base",exp:/\bNotes\s*[-–]\s*Base:\s*/gi},{title:"Fragrance Family",exp:/\bFragrance\s+Family:\s*/gi},{title:"Key Note",exp:/\bKey\s+Note:\s*/gi},{title:"Strength",exp:/\bStrength:\s*/gi},{title:"Size",exp:/\bSize:\s*/gi},{title:"Bottle Type",exp:/\bBottle\s+Type:\s*/gi},{title:"Scent",exp:/\bScent:\s*/gi},{title:"EAN",exp:/\bEAN:\s*/gi}].forEach(({title:t,exp:s})=>{e=e.replace(s,()=>` |||${t}: `)});let t=e.split(" |||"),s=(t[0]||"").trim(),r=[];for(let e=1;e<t.length;e++){let s=t[e],l=s.indexOf(": ");if(l>0){let e=s.slice(0,l).trim(),t=s.slice(l+2).trim();e&&t&&r.push({title:e,value:t})}}return r.forEach(e=>{/Notes/i.test(e.title)&&(e.value=e.value.replace(/\s*,\s*/g,", "))}),{intro:s,items:r}},[I]),M=s?.images?.[0]?.url||("string"==typeof(e=s?.image)?e:void 0)||H?.original||H?.thumbnail||(Array.isArray(s?.gallery)?"string"==typeof s.gallery[0]?s.gallery[0]:s.gallery[0]?.original||s.gallery[0]?.thumbnail:void 0)||"/assets/placeholder/products/product-thumbnail.svg",_=!!c()(F)||!c()(C)&&Object.keys(F).every(e=>C.hasOwnProperty(e));function U(){a(),w.push(`${d.Z.PRODUCT}/${R}`,void 0,{locale:w.locale})}function z(e){k(t=>({...t,...e}))}return r.jsx("div",{className:"rounded-lg bg-white",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row w-full md:w-[650px] lg:w-[960px] mx-auto overflow-hidden",children:[r.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-full lg:w-[430px] max-h-[320px] sm:max-h-[380px] md:max-h-[420px] lg:max-h-full overflow-hidden bg-gray-300",children:r.jsx(i(),{src:M,alt:D||"Product image",width:430,height:430,className:"w-full h-auto object-contain lg:object-cover lg:w-full lg:h-full"})}),(0,r.jsxs)("div",{className:"flex flex-col p-5 md:p-8 w-full",children:[(0,r.jsxs)("div",{className:"pb-5",children:[r.jsx("div",{className:"mb-2 md:mb-2.5 block -mt-1.5",onClick:U,role:"button",children:r.jsx("h2",{className:"text-heading text-lg md:text-xl lg:text-2xl font-semibold hover:text-black",children:D})}),(0,r.jsxs)("div",{className:"text-sm md:text-body md:leading-7 space-y-2",children:[$.intro&&r.jsx("p",{children:$.intro}),$.items.length>0&&r.jsx("ul",{className:"list-disc pl-5 space-y-1",children:$.items.map((e,t)=>(0,r.jsxs)("li",{children:[(0,r.jsxs)("span",{className:"font-semibold",children:[e.title,":"]})," ",e.value]},t))}),!$.intro&&0===$.items.length&&r.jsx("p",{children:Z})]}),(0,r.jsxs)("div",{className:"flex items-center mt-3",children:[r.jsx("div",{className:"text-heading font-semibold text-base md:text-xl lg:text-2xl",children:P}),B&&r.jsx("del",{className:"font-segoe text-gray-400 text-base lg:text-xl ps-2.5 -mt-0.5 md:mt-0",children:E})]})]}),Object.keys(F).map(e=>r.jsx(h.P,{title:e,attributes:F[e],active:C[e],onClick:z},`popup-attribute-key${e}`)),(0,r.jsxs)("div",{className:"pt-2 md:pt-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4 space-s-3 sm:space-s-4",children:[r.jsx(m.Z,{quantity:j,onIncrement:()=>N(e=>e+1),onDecrement:()=>N(e=>1!==e?e-1:1),disableDecrement:1===j}),r.jsx(g.Z,{onClick:function(){_&&(A(!0),setTimeout(()=>{A(!1),S(!0)},600),v((0,p.z)(s,C),j))},variant:"flat",className:`w-full h-11 md:h-12 px-1.5 ${!_&&"bg-gray-400 hover:bg-gray-400"}`,disabled:!_,loading:T,children:t("text-add-to-cart")})]}),O&&r.jsx("button",{onClick:function(){a(),setTimeout(()=>{o()},300)},className:"w-full mb-4 h-11 md:h-12 rounded bg-gray-100 text-heading focus:outline-none border border-gray-300 transition-colors hover:bg-gray-50 focus:bg-gray-50",children:t("text-view-cart")}),r.jsx(g.Z,{onClick:U,variant:"flat",className:"w-full h-11 md:h-12",children:t("text-view-details")})]})]})]})})}},58189:(e,t,s)=>{s.d(t,{ZP:()=>a});var r=s(16689);function l({amount:e,currencyCode:t,locale:s}){return new Intl.NumberFormat(s,{style:"currency",currency:t}).format(e)}function a(e){let{amount:t,baseAmount:s,currencyCode:a="GBP"}=e??{},i="en-GB",n=(0,r.useMemo)(()=>"number"==typeof t&&a?s?function({amount:e,baseAmount:t,currencyCode:s,locale:r}){let a=t>e,i=new Intl.NumberFormat(r,{style:"percent"}),n=a?i.format((t-e)/t):null;return{price:l({amount:e,currencyCode:s,locale:r}),basePrice:a?l({amount:t,currencyCode:s,locale:r}):null,discount:n}}({amount:t,baseAmount:s,currencyCode:a,locale:i}):l({amount:t,currencyCode:a,locale:i}):"",[t,s,a]);return"string"==typeof n?{price:n,basePrice:null,discount:null}:n}},4293:(e,t,s)=>{s.d(t,{y:()=>a});var r=s(98492),l=s.n(r);function a(e){return e?l()(e,"attribute.slug"):{}}},71771:(e,t,s)=>{s.d(t,{z:()=>a});var r=s(89699),l=s.n(r);function a(e,t){if(!e)throw Error("generateCartItem: item is undefined");let s=e.id??e._id??e.slug,{name:r,slug:a,price:i,sale_price:n}=e,o=e.image,c=Array.isArray(e.images)?e.images:[],d=Array.isArray(e.gallery)?e.gallery:[],u=e=>"string"==typeof e?e:void 0,g=d[0],m=o&&(o.thumbnail||o.original)||c[0]?.url||u(e.image)||u(g)||g&&(g.thumbnail||g.original)||"/assets/placeholder/cart-item.svg";return{id:l()(t)?s:`${s}.${Object.values(t).join(".")}`,name:r,slug:a,image:m,price:n||i,attributes:t}}},61949:(e,t,s)=>{s.d(t,{Z:()=>r});let r={HOME:"/",PRODUCT:"/products",CHECKOUT:"/checkout",CONTACT:"/contact-us",TERMS:"/terms",POLICY:"/privacy",FAQ:"/faq",FORGET_PASSWORD:"/forget-password",ACCOUNT:"/my-account",ORDERS:"/my-account/orders",ACCOUNT_DETAILS:"/my-account/account-details",CHANGE_PASSWORD:"/my-account/change-password",SHOP:"/shop",LOGIN:"/signin",SIGN_UP:"/signup",SEARCH:"/search",COLLECTIONS:"/collections",CATEGORY:"/category",ORDER:"/order"}}};