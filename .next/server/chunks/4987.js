"use strict";exports.id=4987,exports.ids=[4987],exports.modules={53207:(e,t,r)=>{r.d(t,{Z:()=>f});var l=r(20997),i=r(59003),a=r.n(i),s=r(25675),o=r.n(s),n=r(16689),d=r(96890),m=r(58189),g=r(69468),u=r(41946),c=r(27612),x=r(71771),p=r(1187),b=r(36468),h=r(85760);let f=({product:e,className:t="",contactClassName:r="",imageContentClassName:i="",variant:s="list",imgWidth:f=360,imgHeight:y=500,imgLoading:w="lazy"})=>{let[v,_]=(0,n.useState)(!1),{openModal:j,setModalView:N,setModalData:$}=(0,d.l8)(),A=`/assets/placeholder/products/product-${s}.svg`,{price:P,basePrice:S,discount:k}=(0,m.ZP)({amount:e.sale_price?e.sale_price:e.price,baseAmount:e.price,currencyCode:"GBP"}),{width:C}=(0,b.i)(),{addItemToCart:q,isInCart:z}=(0,u.jD)(),{addItemToWishlist:I,removeItemFromWishlist:H,isInWishlist:E}=(0,c.Ei)(),M=()=>{$({data:e}),N("PRODUCT_VIEW"),j()},Z=e=>"string"==typeof e?e:void 0,R=e?.images?.[0],D=e?.images?.[1]||R,L=Array.isArray(e?.gallery)?e.gallery[0]:void 0,U=Array.isArray(e?.gallery)?e.gallery[1]:void 0,W=e?.images?.[0]?.url||Z(e?.image)||e?.image?.thumbnail||e?.image?.original||Z(L)||L?.thumbnail||L?.original||A,B=e?.images?.[1]?.url||Z(U)||U?.original||W,[F,G]=(0,n.useState)(W);(0,n.useEffect)(()=>{G(v?B:W)},[v]);let O=(0,n.useMemo)(()=>String(e?.description||"").replace(/<[^>]*>/g," ").replace(/&nbsp;/gi," ").replace(/&amp;/gi,"&").replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&quot;/gi,'"').replace(/&#39;/gi,"'").replace(/\s+/g," ").trim(),[e?.description]),Q=(0,n.useMemo)(()=>O.length>140?O.slice(0,140)+"â€¦":O,[O]),T=(()=>{if(e.sale_price&&e.price>e.sale_price)return{text:"Sale",color:"bg-red-500"};if(e.quantity&&e.quantity<10)return{text:"Limited",color:"bg-orange-500"};let t=Array.isArray(e.tags)?e.tags:[];return t.includes("hot")||t.includes("trending")?{text:"Hot",color:"bg-pink-500"}:t.includes("new")?{text:"New",color:"bg-blue-500"}:null})();return(0,l.jsxs)("div",{className:a()("group box-border overflow-hidden flex rounded-md cursor-pointer relative",{"pe-0 pb-2 lg:pb-3 flex-col items-start bg-white transition duration-200 ease-in-out transform hover:-translate-y-1 hover:shadow-product":"grid"===s,"pe-0 md:pb-1 flex-col items-start bg-white":"gridSlim"===s,"items-center bg-transparent border border-gray-100 transition duration-200 ease-in-out transform hover:-translate-y-1 hover:shadow-listProduct":"listSmall"===s,"flex-row items-center transition-transform ease-linear bg-gray-200 pe-2 lg:pe-3 2xl:pe-4":"list"===s},t),onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),onClick:M,children:[T&&l.jsx("div",{className:a()("absolute top-3 right-3 text-white text-xs font-bold px-3 py-1 rounded-tl-xl rounded-br-xl z-10 shadow-lg",T.color),children:T.text}),(0,l.jsxs)("div",{className:a()("flex relative",{"mb-3 md:mb-3.5 w-full":"grid"===s,"mb-3 md:mb-3.5 pb-0":"gridSlim"===s,"flex-shrink-0 w-32 sm:w-44 md:w-36 lg:w-44":"listSmall"===s},i),children:[R?l.jsx(h.Z,{publicId:v&&D?D.public_id:R.public_id,alt:e?.name||"Product Image",width:Number(f)||340,height:Number(y)||440,className:a()("bg-gray-300 object-cover rounded-s-md transition-all duration-300",{"w-full rounded-md group-hover:rounded-b-none":"grid"===s,"rounded-md transform group-hover:scale-105":"gridSlim"===s,"rounded-s-md transform group-hover:scale-105":"list"===s})}):l.jsx(o(),{src:F,width:Number(f)||340,height:Number(y)||440,loading:w,unoptimized:!0,quality:70,sizes:"(min-width: 1536px) 20vw, (min-width: 1280px) 25vw, (min-width: 1024px) 33vw, (min-width: 640px) 50vw, 100vw",alt:e?.name||"Product Image",onError:()=>G(A),className:a()("bg-gray-300 object-cover rounded-s-md transition-all duration-300",{"w-full rounded-md group-hover:rounded-b-none":"grid"===s,"rounded-md transform group-hover:scale-105":"gridSlim"===s,"rounded-s-md transform group-hover:scale-105":"list"===s})}),"grid"===s&&(0,l.jsxs)("div",{className:a()("absolute bottom-0 left-0 right-0 flex justify-center items-center gap-2 p-3 backdrop-blur-sm bg-white/30 rounded-b-md transition-all duration-300",{"opacity-100 translate-y-0":v,"opacity-0 translate-y-full":!v}),children:[l.jsx("button",{onClick:t=>{if(t.stopPropagation(),z(e.id))return;let r={...e,image:{thumbnail:W,original:W}};q((0,x.z)(r,{}),1),(0,p.toast)("Added to bag",{type:"dark",progressClassName:"fancy-progress-bar",position:C>768?"bottom-right":"top-right",autoClose:2e3})},className:"flex items-center justify-center w-10 h-10 bg-black text-white rounded-full hover:bg-gray-800 transition-colors",title:"Add to Cart",children:l.jsx(g.Qyq,{className:"w-5 h-5"})}),l.jsx("button",{onClick:e=>{e.stopPropagation(),M()},className:"flex items-center justify-center w-10 h-10 bg-white text-black rounded-full hover:bg-gray-100 transition-colors border-2 border-gray-200",title:"Quick View",children:l.jsx(g.rDJ,{className:"w-5 h-5"})}),l.jsx("button",{onClick:t=>{t.stopPropagation(),E(e.id)?H(e.id):I(e)},className:"flex items-center justify-center w-10 h-10 bg-white text-black rounded-full hover:bg-gray-100 transition-colors border-2 border-gray-200",title:E(e.id)?"Remove from Wishlist":"Add to Wishlist",children:l.jsx(g.$aX,{className:"w-5 h-5"})})]})]}),(0,l.jsxs)("div",{className:a()("w-full overflow-hidden",{"ps-0 lg:ps-2.5 xl:ps-4 pe-2.5 xl:pe-4":"grid"===s,"ps-0":"gridSlim"===s,"px-4 lg:px-5 2xl:px-4":"listSmall"===s},r),children:[l.jsx("h2",{className:a()("text-heading font-semibold truncate mb-1",{"text-sm md:text-base":"grid"===s,"md:mb-1.5 text-sm sm:text-base md:text-sm lg:text-base xl:text-lg":"gridSlim"===s,"text-sm sm:text-base md:mb-1.5 pb-0":"listSmall"===s,"text-sm sm:text-base md:text-sm lg:text-base xl:text-lg md:mb-1.5":"list"===s}),children:e?.name}),e?.description&&l.jsx("p",{suppressHydrationWarning:!0,className:"text-body text-xs lg:text-sm leading-normal xl:leading-relaxed max-w-[250px] truncate",children:Q}),(0,l.jsxs)("div",{className:a()("text-heading font-semibold mt-1.5 space-s-2",{"text-sm sm:text-base lg:text-lg":"grid"===s,"text-sm sm:text-xl lg:text-xl":"grid"!==s}),children:[l.jsx("span",{children:P}),k&&l.jsx("del",{className:"sm:text-base font-normal text-gray-800",children:S})]})]})]})}},85760:(e,t,r)=>{r.d(t,{Z:()=>o});var l=r(20997),i=r(25675),a=r.n(i),s=r(69086);let o=({publicId:e,alt:t,width:r,height:i,sizes:o="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 400px",className:n,crop:d="fill"})=>{let m=(0,s.v)(e,{width:r,height:i,crop:d,quality:"auto",format:"auto"}),g=(0,s.v)(e,{width:20,height:20,crop:d,blur:200,quality:"auto",format:"auto"});return l.jsx(a(),{src:m,alt:t,width:r,height:i,sizes:o,className:n,placeholder:"blur",blurDataURL:g,loading:"lazy"})}},8232:(e,t,r)=>{r.d(t,{Z:()=>s});var l=r(20997);r(16689);var i=r(59003),a=r.n(i);let s=({style:e,className:t,variant:r="body",children:i,html:s})=>l.jsx({body:"p",mediumHeading:"h3",heading:"h4",pageHeading:"h1",subHeading:"h2"}[r],{className:a()({"text-body text-sm sm:leading-6 leading-7":"body"===r,"text-heading text-lg md:text-xl lg:text-2xl 2xl:text-3xl xl:leading-10 font-bold":"mediumHeading"===r,"text-heading text-sm md:text-base xl:text-lg font-semibold":"heading"===r,"text-2xl font-bold text-heading":"pageHeading"===r,"text-heading text-lg md:text-2xl xl:text-3xl 2xl:text-4xl  font-bold":"subHeading"===r},t),style:e,...s?{dangerouslySetInnerHTML:{__html:s}}:{},children:i})},58189:(e,t,r)=>{r.d(t,{ZP:()=>a});var l=r(16689);function i({amount:e,currencyCode:t,locale:r}){return new Intl.NumberFormat(r,{style:"currency",currency:t}).format(e)}function a(e){let{amount:t,baseAmount:r,currencyCode:a="GBP"}=e??{},s="en-GB",o=(0,l.useMemo)(()=>"number"==typeof t&&a?r?function({amount:e,baseAmount:t,currencyCode:r,locale:l}){let a=t>e,s=new Intl.NumberFormat(l,{style:"percent"}),o=a?s.format((t-e)/t):null;return{price:i({amount:e,currencyCode:r,locale:l}),basePrice:a?i({amount:t,currencyCode:r,locale:l}):null,discount:o}}({amount:t,baseAmount:r,currencyCode:a,locale:s}):i({amount:t,currencyCode:a,locale:s}):"",[t,r,a]);return"string"==typeof o?{price:o,basePrice:null,discount:null}:o}},69086:(e,t,r)=>{r.d(t,{A:()=>a,v:()=>i});let l="dqzpqza20";function i(e,{width:t,height:r,crop:i="fill",blur:a,quality:s="auto",format:o="auto"}){if(!l)return"";let n=[];i&&n.push(`c_${i}`),t&&n.push(`w_${t}`),r&&n.push(`h_${r}`),s&&n.push(`q_${s}`),o&&n.push(`f_${o}`),a&&n.push(`e_blur:${a}`);let d=n.join(",");return`https://res.cloudinary.com/${l}/image/upload/${d}/${e}`}function a(e){let{productTitle:t,price:r,productImagePublicId:i}=e;if(!l)return"";let a=encodeURIComponent(t),s=encodeURIComponent(`$${r.toFixed(2)}`),o=`c_fill,h_630,q_auto,w_1200,f_auto/l_${i.replace(/\//g,":")},c_fill,h_600,w_600,g_west,x_50/co_rgb:ffffff,l_text:Poppins_60_bold:${a},g_north_east,x_80,y_80/co_rgb:ffd700,l_text:Poppins_48_semibold:${s},g_south_east,x_80,y_80`;return`https://res.cloudinary.com/${l}/image/upload/${o}/og-templates/perfumify-product-bg`}},71771:(e,t,r)=>{r.d(t,{z:()=>a});var l=r(89699),i=r.n(l);function a(e,t){if(!e)throw Error("generateCartItem: item is undefined");let r=e.id??e._id??e.slug,{name:l,slug:a,price:s,sale_price:o}=e,n=e.image,d=Array.isArray(e.images)?e.images:[],m=Array.isArray(e.gallery)?e.gallery:[],g=e=>"string"==typeof e?e:void 0,u=m[0],c=n&&(n.thumbnail||n.original)||d[0]?.url||g(e.image)||g(u)||u&&(u.thumbnail||u.original)||"/assets/placeholder/cart-item.svg";return{id:i()(t)?r:`${r}.${Object.values(t).join(".")}`,name:l,slug:a,image:c,price:o||s,attributes:t}}},36468:(e,t,r)=>{r.d(t,{i:()=>i.a});var l=r(52089),i=r.n(l)}};