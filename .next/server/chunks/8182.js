"use strict";exports.id=8182,exports.ids=[8182],exports.modules={2:(e,t,r)=>{r.d(t,{Z:()=>n});var s=r(20997),l=r(59003),a=r.n(l);r(16689);let n=({options:e,children:t,style:r,className:l,...n})=>s.jsx("div",{className:a()("overflow-auto",l),style:r,...n,children:t})},38182:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var s=r(20997),l=r(16689),a=r.n(l),n=r(59003),o=r.n(n),c=r(38782),i=r.n(c);let d=e=>(0,s.jsxs)(i(),{speed:2,width:846,height:96,viewBox:"0 0 846 96",backgroundColor:"#f3f3f3",foregroundColor:"#eaeaea",className:"w-full h-auto",...e,children:[s.jsx("rect",{x:"118",y:"31",rx:"3",ry:"3",width:"120",height:"8"}),s.jsx("rect",{x:"118",y:"59",rx:"3",ry:"3",width:"80",height:"8"}),s.jsx("rect",{x:"0",y:"0",rx:"6",ry:"6",width:"96",height:"96"})]});var u=r(96890),h=r(60986),m=r(11377),p=r(90342);let f=a().forwardRef(({className:e,onSubmit:t,onClear:r,...l},a)=>{let{t:n}=(0,m.useTranslation)("forms");return(0,s.jsxs)("form",{className:"relative pe-12 md:pe-14 bg-white overflow-hidden rounded-md w-full",noValidate:!0,role:"search",onSubmit:t,children:[(0,s.jsxs)("label",{htmlFor:"search",className:"flex items-center py-0.5",children:[s.jsx("span",{className:"w-12 md:w-14 h-full flex flex-shrink-0 justify-center items-center cursor-pointer focus:outline-none",children:s.jsx(h.Z,{color:"text-heading",className:"w-4 h-4"})}),s.jsx("input",{id:"search",className:"text-heading outline-none w-full h-12 lg:h-14 placeholder-gray-400 text-sm lg:text-base",placeholder:n("placeholder-search"),"aria-label":"Search",autoComplete:"off",ref:a,...l})]}),s.jsx("button",{type:"button",className:"outline-none text-2xl md:text-3xl text-gray-400 absolute top-0 end-0 w-12 md:w-14 h-full flex items-center justify-center transition duration-200 ease-in-out hover:text-heading focus:outline-none",onClick:r,children:s.jsx(p.IOM,{className:"w-6 h-6"})})]})});var x=r(20319),g=r(84688),R=r(61175);let v=async()=>{let{data:e}=await x.Z.get(g.P.SEARCH,{params:{limit:1e3}});return(Array.isArray(e)?e:e?.data??[])||[]},C=e=>{let t=!!e?.enabled,r=String(e?.text||"").toLowerCase().trim();return(0,R.useQuery)([g.P.SEARCH],v,{enabled:t,staleTime:3e5,select:e=>{if(!r)return e;try{return e.filter(e=>String(e?.name||"").toLowerCase().includes(r))}catch{return e}}})};r(25782);var S=r(2),E=r(55744),O=r(25675),T=r.n(O),y=r(58189),N=r(61949);let j=({item:e})=>{let{price:t,basePrice:r}=(0,y.ZP)({amount:e.sale_price?e.sale_price:e.price,baseAmount:e.price,currencyCode:"GBP"});return(0,s.jsxs)(E.Z,{href:`${N.Z.PRODUCT}/${e?.slug}`,className:"group w-full h-auto flex justify-start items-center",children:[s.jsx("div",{className:"relative flex w-24 h-24 rounded-md overflow-hidden bg-gray-200 flex-shrink-0 cursor-pointer me-4",children:s.jsx(T(),{src:e?.image?.original??"/assets/placeholder/search-product.svg",width:96,height:96,loading:"eager",unoptimized:!0,alt:e.name||"Product Image",className:"bg-gray-200 object-cover"})}),(0,s.jsxs)("div",{className:"flex flex-col w-full overflow-hidden",children:[s.jsx("h3",{className:"truncate text-sm text-heading mb-2",children:e.name}),(0,s.jsxs)("div",{className:"text-heading font-semibold text-sm",children:[t,s.jsx("del",{className:"ps-2 text-gray-400 font-normal",children:r})]})]})]})};function w(){let{displaySearch:e,closeSearch:t}=(0,u.l8)(),[r,n]=a().useState(""),{data:c,isLoading:i}=C({text:r,enabled:e&&r.trim().length>=2}),h=(0,l.useRef)(null);return(0,s.jsxs)("div",{ref:h,children:[s.jsx("div",{className:o()("overlay",{open:e}),role:"button",onClick:t}),s.jsx("div",{className:o()("drawer-search relative hidden top-0 z-30 opacity-0 invisible transition duration-300 ease-in-out left-1/2 px-4 w-full md:w-[730px] lg:w-[930px]",{open:e}),children:s.jsx("div",{className:"w-full flex flex-col justify-center",children:(0,s.jsxs)("div",{className:"flex-shrink-0 mt-3.5 lg:mt-4 w-full",children:[s.jsx("div",{className:"flex flex-col mx-auto mb-1.5 w-full ",children:s.jsx(f,{onSubmit:function(e){e.preventDefault()},onChange:function(e){n(e.currentTarget.value)},name:"search",value:r,onClear:function(){n("")},ref:e=>{e&&e.focus()}})}),r&&s.jsx("div",{className:"bg-white flex flex-col rounded-md overflow-hidden h-full max-h-64vh lg:max-h-[550px]",children:s.jsx(S.Z,{className:"os-host-flexbox",children:s.jsx("div",{className:"h-full",children:i?s.jsx("div",{className:"p-5 border-b border-gray-300 border-opacity-30 last:border-b-0",children:Array.from({length:5}).map((e,t)=>s.jsx(d,{uniqueKey:`top-search-${t}`},t))}):c?.map((e,r)=>s.jsx("div",{className:" p-5 border-b border-gray-150 relative last:border-b-0",onClick:t,children:s.jsx(j,{item:e},r)}))})})})]})})})]})}},58189:(e,t,r)=>{r.d(t,{ZP:()=>a});var s=r(16689);function l({amount:e,currencyCode:t,locale:r}){return new Intl.NumberFormat(r,{style:"currency",currency:t}).format(e)}function a(e){let{amount:t,baseAmount:r,currencyCode:a="GBP"}=e??{},n="en-GB",o=(0,s.useMemo)(()=>"number"==typeof t&&a?r?function({amount:e,baseAmount:t,currencyCode:r,locale:s}){let a=t>e,n=new Intl.NumberFormat(s,{style:"percent"}),o=a?n.format((t-e)/t):null;return{price:l({amount:e,currencyCode:r,locale:s}),basePrice:a?l({amount:t,currencyCode:r,locale:s}):null,discount:o}}({amount:t,baseAmount:r,currencyCode:a,locale:n}):l({amount:t,currencyCode:a,locale:n}):"",[t,r,a]);return"string"==typeof o?{price:o,basePrice:null,discount:null}:o}},84688:(e,t,r)=>{r.d(t,{P:()=>s});let s={LOGIN:"/login",REGISTER:"/register",LOGOUT:"/logout",FORGET_PASSWORD:"/forget-password",CATEGORIES:"/categories",FEATURED_CATEGORIES:"/featured_categories.json",COLLECTIONS:"/collections.json",BRANDS:"/brands",PRODUCTS:"/products",FEATURED_PRODUCTS:"/products",TOP_SELLER_PRODUCTS:"/products",ON_SELLING_PRODUCTS:"/products",PRODUCT:"/products",RELATED_PRODUCTS:"/products",BEST_SELLER_PRODUCTS:"/products",NEW_ARRIVAL_PRODUCTS:"/products",FLASH_SALE_PRODUCTS:"/products",SEARCH:"/products",ORDERS:"/orders",ORDER:"/orders"}},20319:(e,t,r)=>{r.d(t,{Z:()=>c});var s=r(52167),l=r.n(s),a=r(1121);let n=(()=>{let e=process.env.NEXT_PUBLIC_REST_API_ENDPOINT,t=process.env.NEXT_PUBLIC_SITE_URL||process.env.SITE_URL||process.env.VERCEL_URL||process.env.URL;if(e){if(/^https?:\/\//i.test(e)){try{let r=new URL(e);if(["localhost","127.0.0.1","::1"].includes(r.hostname)&&t){let e=/^https?:\/\//i.test(t)?t:`https://${t}`;return`${e}${r.pathname}${r.search}`}}catch{}return e}if(t){let r=/^https?:\/\//i.test(t)?t:`https://${t}`;return`${r}${e.startsWith("/")?e:`/${e}`}`}let r=process.env.PORT||"3000",s=process.env.HOST||"localhost";return`http://${s}:${r}${e.startsWith("/")?e:`/${e}`}`}if(t){let e=/^https?:\/\//i.test(t)?t:`https://${t}`;return`${e}/api`}let r=process.env.PORT||"3000",s=process.env.HOST||"localhost";return`http://${s}:${r}/api`})(),o=l().create({baseURL:n,timeout:3e4,headers:{Accept:"application/json","Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=(0,a.L)();return e.headers={...e.headers,Authorization:`Bearer ${t||""}`},e},e=>Promise.reject(e));let c=o},61949:(e,t,r)=>{r.d(t,{Z:()=>s});let s={HOME:"/",PRODUCT:"/products",CHECKOUT:"/checkout",CONTACT:"/contact-us",TERMS:"/terms",POLICY:"/privacy",FAQ:"/faq",FORGET_PASSWORD:"/forget-password",ACCOUNT:"/my-account",ORDERS:"/my-account/orders",ACCOUNT_DETAILS:"/my-account/account-details",CHANGE_PASSWORD:"/my-account/change-password",SHOP:"/shop",LOGIN:"/signin",SIGN_UP:"/signup",SEARCH:"/search",COLLECTIONS:"/collections",CATEGORY:"/category",ORDER:"/order"}}};