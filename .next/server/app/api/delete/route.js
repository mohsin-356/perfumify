"use strict";(()=>{var e={};e.id=4390,e.ids=[4390],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},92048:e=>{e.exports=require("fs")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},55315:e=>{e.exports=require("path")},86624:e=>{e.exports=require("querystring")},76162:e=>{e.exports=require("stream")},17360:e=>{e.exports=require("url")},63697:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>m,patchFetch:()=>v,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>E,staticGenerationAsyncStorage:()=>f});var o={};t.r(o),t.d(o,{DELETE:()=>_,runtime:()=>l});var a=t(73278),s=t(45002),n=t(54877),i=t(71309),u=t(39360),p=t(61866);let l="nodejs";async function _(e){if(e.headers.get("x-admin-token")!==p.O.ADMIN_SECRET_TOKEN)return i.NextResponse.json({error:"Unauthorized"},{status:401});let r=await e.json().catch(()=>null),t=r?.public_id;if(!t)return i.NextResponse.json({error:"public_id is required"},{status:400});try{let e=await (0,u.ao)(t);return i.NextResponse.json({result:e},{status:200})}catch(e){return console.error("Cloudinary delete error",e),i.NextResponse.json({error:"Delete failed",details:e?.message},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/delete/route",pathname:"/api/delete",filename:"route",bundlePath:"app/api/delete/route"},resolvedPagePath:"C:\\Users\\SMART TECH\\Desktop\\perfumeStore\\src\\app\\api\\delete\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:f,serverHooks:E}=d,m="/api/delete/route";function v(){return(0,n.patchFetch)({serverHooks:E,staticGenerationAsyncStorage:f})}},39360:(e,r,t)=>{t.d(r,{Ix:()=>n,ao:()=>i,vs:()=>u});var o=t(5482),a=t(61866);o.v2.config({cloud_name:a.O.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME,api_key:a.O.NEXT_PUBLIC_CLOUDINARY_API_KEY,api_secret:a.O.CLOUDINARY_API_SECRET,secure:!0});let s={folder:"perfumify",transformation:[{quality:"auto",fetch_format:"auto"}]};async function n(e,r={}){let t={...s,...r};return Buffer.isBuffer(e)?new Promise((r,a)=>{o.v2.uploader.upload_stream(t,(e,t)=>{if(e||!t)return a(e);r(t)}).end(e)}):o.v2.uploader.upload(e,t)}async function i(e){return o.v2.uploader.destroy(e)}function u(e,{width:r,height:t,crop:a="fill",blur:s,quality:n="auto",format:i="auto"}){let u=[{width:r,height:t,crop:a,quality:n,fetch_format:i}];return s&&u.push({effect:`blur:${s}`}),o.v2.url(e,{secure:!0,transformation:u})}},61866:(e,r,t)=>{t.d(r,{O:()=>s});var o=t(13305);let a=o.Ryn({NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME:o.Z_8().min(1),NEXT_PUBLIC_CLOUDINARY_API_KEY:o.Z_8().min(1),NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET:o.Z_8().min(1).default("perfume_store"),CLOUDINARY_API_SECRET:o.Z_8().optional(),MONGODB_URI:o.Z_8().optional(),ADMIN_SECRET_TOKEN:o.Z_8().optional(),SMTP_HOST:o.Z_8().optional(),SMTP_PORT:o.oQ2.number().optional(),SMTP_USER:o.Z_8().optional(),SMTP_PASS:o.Z_8().optional(),NOTIFY_EMAIL:o.Z_8().optional()}).safeParse(process.env);if(!a.success)throw console.error("❌ Invalid environment variables:",a.error.flatten().fieldErrors),Error("Invalid environment variables – check .env");let s=a.success?a.data:{}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[7787,3305,4833,5482],()=>t(63697));module.exports=o})();