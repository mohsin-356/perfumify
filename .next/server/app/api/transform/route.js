"use strict";(()=>{var e={};e.id=2710,e.ids=[2710],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},92048:e=>{e.exports=require("fs")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},55315:e=>{e.exports=require("path")},86624:e=>{e.exports=require("querystring")},76162:e=>{e.exports=require("stream")},17360:e=>{e.exports=require("url")},56773:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>m,patchFetch:()=>v,requestAsyncStorage:()=>d,routeModule:()=>_,serverHooks:()=>f,staticGenerationAsyncStorage:()=>c});var o={};t.r(o),t.d(o,{GET:()=>l,runtime:()=>p});var a=t(73278),n=t(45002),s=t(54877),u=t(71309),i=t(39360);let p="nodejs";async function l(e){let{searchParams:r}=new URL(e.url),t=r.get("public_id");if(!t)return u.NextResponse.json({error:"public_id is required"},{status:400});let o=r.get("w"),a=r.get("h"),n=r.get("crop")??"fill",s=r.get("blur"),p=r.get("q")??"auto",l=(0,i.vs)(t,{width:o?Number(o):void 0,height:a?Number(a):void 0,crop:n,blur:s?Number(s):void 0,quality:p,format:"auto"});return u.NextResponse.json({url:l},{status:200})}let _=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/transform/route",pathname:"/api/transform",filename:"route",bundlePath:"app/api/transform/route"},resolvedPagePath:"C:\\Users\\SMART TECH\\Desktop\\perfumeStore\\src\\app\\api\\transform\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:c,serverHooks:f}=_,m="/api/transform/route";function v(){return(0,s.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:c})}},39360:(e,r,t)=>{t.d(r,{Ix:()=>s,ao:()=>u,vs:()=>i});var o=t(5482),a=t(61866);o.v2.config({cloud_name:a.O.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME,api_key:a.O.NEXT_PUBLIC_CLOUDINARY_API_KEY,api_secret:a.O.CLOUDINARY_API_SECRET,secure:!0});let n={folder:"perfumify",transformation:[{quality:"auto",fetch_format:"auto"}]};async function s(e,r={}){let t={...n,...r};return Buffer.isBuffer(e)?new Promise((r,a)=>{o.v2.uploader.upload_stream(t,(e,t)=>{if(e||!t)return a(e);r(t)}).end(e)}):o.v2.uploader.upload(e,t)}async function u(e){return o.v2.uploader.destroy(e)}function i(e,{width:r,height:t,crop:a="fill",blur:n,quality:s="auto",format:u="auto"}){let i=[{width:r,height:t,crop:a,quality:s,fetch_format:u}];return n&&i.push({effect:`blur:${n}`}),o.v2.url(e,{secure:!0,transformation:i})}},61866:(e,r,t)=>{t.d(r,{O:()=>n});var o=t(13305);let a=o.Ryn({NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME:o.Z_8().min(1),NEXT_PUBLIC_CLOUDINARY_API_KEY:o.Z_8().min(1),NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET:o.Z_8().min(1).default("perfume_store"),CLOUDINARY_API_SECRET:o.Z_8().optional(),MONGODB_URI:o.Z_8().optional(),ADMIN_SECRET_TOKEN:o.Z_8().optional(),SMTP_HOST:o.Z_8().optional(),SMTP_PORT:o.oQ2.number().optional(),SMTP_USER:o.Z_8().optional(),SMTP_PASS:o.Z_8().optional(),NOTIFY_EMAIL:o.Z_8().optional()}).safeParse(process.env);if(!a.success)throw console.error("❌ Invalid environment variables:",a.error.flatten().fieldErrors),Error("Invalid environment variables – check .env");let n=a.success?a.data:{}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[7787,3305,4833,5482],()=>t(56773));module.exports=o})();